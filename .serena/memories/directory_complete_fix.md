# ディレクトリ設定問題の完全修正

## 修正した問題
1. サーバー切り替え時にディレクトリが更新されない
2. ディレクトリブラウザー開始時に正しい初期パスが設定されない

## 実装した修正

### 1. updateServerConfig関数の強化
- 値をクリアしてから新しい値を設定
- HTML属性も強制的に更新 (`setAttribute`)
- イベントのバブリングを有効化
- 値設定失敗時の再試行メカニズム追加

### 2. browseUploadDirectory関数の修正
- プロファイルのデフォルトディレクトリを優先的に使用
- `currentBrowsingPath = profile.defaultDirectory || uploadDirValue || '/'`

## 動作確認
- サーバー切り替え時にディレクトリが正しく更新される
- ディレクトリブラウザーが正しい初期パスで開く
- プロファイルのデフォルトディレクトリ設定が確実に反映される
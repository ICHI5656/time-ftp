# スケジュールアップロード修正内容

## 問題
- スケジュールアップロード実行時に500エラーが発生
- エラーメッセージ: "Internal server error"

## 原因
1. ページリロード後にFileオブジェクトが失われる
2. LocalStorageにはFileオブジェクトを保存できない
3. task.fileがundefinedになるため、アップロード失敗

## 修正内容

### バックエンド (sftp-server.js)
- より明確なエラーメッセージを返すように改善
- ファイルがない場合に適切な400エラーレスポンス

### フロントエンド (index.html) 
- HTTPステータスチェックを追加
- エラーハンドリングを改善
- ユーザーへの明確なエラーメッセージ表示

## 残課題
- ページリロード後もスケジュールを実行できるようにする対策が必要
- 可能な解決策:
  1. サーバー側でファイルを一時保存
  2. ユーザーにファイル再選択を促す
  3. IndexedDBを使用してFileオブジェクトを保持
# 📋 FTP/SFTP接続テスト手順

## 1️⃣ テストツールを使う方法（簡単）

### ブラウザで開く
```
http://localhost:8091/test-connection.html
```
- 各ボタンをクリックするだけで接続テスト可能

## 2️⃣ メインUIでテストする方法

### アクセスURL
```
http://localhost:8091/ultimate-ftp-manager-linked.html
```

### FTPサーバーの追加手順
1. 左サイドバーの「**FTP**」タブをクリック
2. 「**➕ 追加**」ボタンをクリック
3. 以下を入力：
   - プロファイル名: `テストFTP`
   - ホスト: `ftp.dlptest.com`
   - ポート: `21`
   - ユーザー名: `dlpuser`
   - パスワード: `rNrKYTX9g7z3RgJRmxWuGHbeu`
4. 「**💾 保存**」をクリック
5. 「**🔍 テスト**」をクリック

### SFTPサーバーの追加手順
1. 左サイドバーの「**SFTP**」タブをクリック
2. 「**➕ 追加**」ボタンをクリック
3. 以下を入力：
   - プロファイル名: `テストSFTP`
   - ホスト: `test.rebex.net`
   - ポート: `22`
   - ユーザー名: `demo`
   - パスワード: `password`
4. 「**💾 保存**」をクリック
5. 「**🔍 テスト**」をクリック

## 3️⃣ トラブルシューティング

### エラーが出る場合

#### 1. Dockerの確認
```bash
# コンテナ状態確認
docker ps

# 再起動が必要な場合
docker-compose -f docker-compose.minimal.yml restart
```

#### 2. 別のブラウザを試す
- Chrome → Edge または Firefox
- プライベート/シークレットウィンドウ

#### 3. コンソールエラーの確認
- F12キーで開発者ツールを開く
- Consoleタブでエラーを確認

### よくあるエラーと対処法

| エラー | 原因 | 対処法 |
|--------|------|--------|
| CORS error | クロスオリジン制限 | APIサーバーの再起動 |
| Connection refused | サーバー未起動 | Dockerコンテナ起動確認 |
| Timeout | ネットワーク問題 | ファイアウォール確認 |
| Authentication failed | 認証情報誤り | ユーザー名/パスワード確認 |

## ✅ 正常な結果

### FTPテスト成功時
- メッセージ: 「FTP接続成功！」
- ファイル一覧が表示される

### SFTPテスト成功時  
- メッセージ: 「SFTP接続成功！」
- 2つのファイル/フォルダが表示される（pub, readme.txt）

---
作成日: 2025年9月9日